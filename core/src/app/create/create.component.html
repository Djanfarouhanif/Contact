<div class="min-h-[100vh] px-20 scR:px-10 relative">
    <!-- nav bar -->
    <div class="flex justify-between w-full items-center bg-white/10 backdrop-blur-[2px] rounded-xl p-2 shadow-shad mt-5">
        <!-- Logo -->
         <div class="w-[150px]  text-link font-bold  flex items-center text-[20px]"><svg width="40px" height="40px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M878.3 192.9H145.7c-16.5 0-30 13.5-30 30V706c0 16.5 13.5 30 30 30h732.6c16.5 0 30-13.5 30-30V222.9c0-16.5-13.5-30-30-30z" fill="#FFFFFF"></path><path d="M145.7 736h732.6c16.5 0 30-13.5 30-30v-22.1H115.7V706c0 16.6 13.5 30 30 30z" fill="#E6E6E6"></path><path d="M878.3 152.9H145.7c-38.6 0-70 31.4-70 70V706c0 38.6 31.4 70 70 70h732.6c38.6 0 70-31.4 70-70V222.9c0-38.6-31.4-70-70-70z m30 531V706c0 16.5-13.5 30-30 30H145.7c-16.5 0-30-13.5-30-30V222.9c0-16.5 13.5-30 30-30h732.6c16.5 0 30 13.5 30 30v461zM678 871.1H346c-11 0-20-9-20-20s9-20 20-20h332c11 0 20 9 20 20s-9 20-20 20z" fill="#f33cc5"></path><path d="M127.1 662.7c-2.7 0-5.4-1.1-7.3-3.2-3.7-4.1-3.5-10.4 0.6-14.1l236.5-219.6L463 541.9l258.9-290.7 183.7 196.3c3.8 4 3.6 10.4-0.4 14.1-4 3.8-10.3 3.6-14.1-0.4L722.3 280.8l-259 290.9L355.7 454 133.9 660c-2 1.8-4.4 2.7-6.8 2.7z" fill="#06F3FF"></path><path d="M156.4 541.9a82.7 82.8 0 1 0 165.4 0 82.7 82.8 0 1 0-165.4 0Z" fill="#D7E7FF"></path><path d="M179.8 541.9a59.3 59.3 0 1 0 118.6 0 59.3 59.3 0 1 0-118.6 0Z" fill="#B5CFF4"></path><path d="M208.9 541.9a30.2 30.3 0 1 0 60.4 0 30.2 30.3 0 1 0-60.4 0Z" fill="#f33cc5"></path><path d="M580.9 329.9a82.7 82.8 0 1 0 165.4 0 82.7 82.8 0 1 0-165.4 0Z" fill="#D7E7FF"></path><path d="M604.3 329.9a59.3 59.3 0 1 0 118.6 0 59.3 59.3 0 1 0-118.6 0Z" fill="#B5CFF4"></path><path d="M633.4 329.9a30.2 30.3 0 1 0 60.4 0 30.2 30.3 0 1 0-60.4 0Z" fill="#f33cc5"></path><path d="M719.3 539.6a46.3 46.4 0 1 0 92.6 0 46.3 46.4 0 1 0-92.6 0Z" fill="#D7E7FF"></path><path d="M732.4 539.6a33.2 33.2 0 1 0 66.4 0 33.2 33.2 0 1 0-66.4 0Z" fill="#B5CFF4"></path><path d="M748.7 539.6a16.9 17 0 1 0 33.8 0 16.9 17 0 1 0-33.8 0Z" fill="#f33cc5"></path><path d="M436.8 720.1H275.2c-5 0-9-4-9-9s4-9 9-9h161.6c5 0 9 4 9 9 0 4.9-4.1 9-9 9zM220.6 720.1h-26.5c-5 0-9-4-9-9s4-9 9-9h26.5c5 0 9 4 9 9 0 4.9-4.1 9-9 9z" fill="#FFFFFF"></path></g></svg>  LinkTrac</div>
         <!-- nav content -->   
          <div class="relative flex gap-2 items-center ">
            <!-- logout barre -->
            <div (click)="logout()" class="cursor-pointer text-white shadow-shad p-2 rounded-xl"> Logout</div>
            <div (click)="AddLink()" class="text-white font-bold bg-btn p-2 rounded-xl cursor-pointer">add new Link</div>
          
          </div>
    </div>
    <!-- pour ajouter un nouveau projet-->
       <!-- Formulaire pour crée un nouveau projet -->
       <div [ngClass]="isOpen? 'scale-[1]' : 'scale-0' " class="absolute transition-all right-3 p-5 mt-4 shadow rounded-xl bg-[#ccc] z-30">

        <form [formGroup]="linkForm" (ngSubmit)="addLink()" class="w-[300px]">
            <div class="flex flex-col mb-3">
                <label for="name">Titre</label>
                <input formControlName="link_name" class="border p-2 rounded-xl outline-none hover:border-link  transition-all" type="text" placeholder="Titre" >
               
                <!-- Ligne pour faire la verification -->
                 <div *ngIf="linkForm.get('link_name')?.invalid && linkForm.get('link_name')?.touched ">
                    <small class="text-red-500">Ajouter un titre</small>
                 </div>
            </div>

            <div class="flex flex-col">
                <label (click)="addLink()" for="Link">Link</label>
                <input formControlName="url"  class="border p-2 rounded-xl outline-none hover:border-link  transition-all" type="text" placeholder="Link">

                <!-- Ligne pour faire la verification et ajouter des message d'erreur -->
                 <div *ngIf="linkForm.get('url')?.invalid && linkForm.get('url')?.touched">
                    <small class="text-red-500" >Lien invalid</small>
                 </div>
            </div>
            <!-- Message d'erreur global -->
             <div *ngIf="linkError">
                <small class="text-red-500">url invalid ou erreur de connexion</small>
             </div>
            <div class="pt-4"><button [ngClass]="[linkForm.valid ? 'bg-btn': 'bg-[#ec90eda2]']" type="submit" [disabled]="!linkForm.valid"  class=" p-1 font-bold w-full text-white rounded-xl">Add</button></div>
        </form>
    </div>

    <!-- body pour afficher projet et courbe -->
     <div class="p-20 scR:p-5 scR:pt-10 ">

        <!-- lient list crée -->
        <div *ngIf="urlDatas.length" class="flex justify-center shadow-shad p-2 rounded-2xl">
            <table class="w-full">
                <thead>
                    <tr class="">
                        <th class="text-left p-2 text-white">Titre</th>
                        <th class="text-left p-2 text-blue-400">Url</th>
                        <th class="text-left p-2 text-white">Click</th>
                      

                    </tr>
                </thead>
                <tbody>
                    <tr class=" border-t " *ngFor="let urlData of urlDatas ">
                        <td class="text-left p-2 text-white">{{urlData.link_name}}</td>
                        <td class="scR:w-[100px] overflow-hidden relative flex items-center gap-1 pl-0 transition-all group text-left p-2 text-blue-500 cursor-pointer text-to-copie z-20" (click)="copyText(urlData.url_output)"><span class="z-0">{{urlData.url_output }} </span> <span class="absolute  hidden group-hover:inline-block transition-all"><svg width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M6 11C6 8.17157 6 6.75736 6.87868 5.87868C7.75736 5 9.17157 5 12 5H15C17.8284 5 19.2426 5 20.1213 5.87868C21 6.75736 21 8.17157 21 11V16C21 18.8284 21 20.2426 20.1213 21.1213C19.2426 22 17.8284 22 15 22H12C9.17157 22 7.75736 22 6.87868 21.1213C6 20.2426 6 18.8284 6 16V11Z" stroke="#000000" stroke-width="1.5"></path> <path d="M6 19C4.34315 19 3 17.6569 3 16V10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H15C16.6569 2 18 3.34315 18 5" stroke="#000000" stroke-width="1.5"></path> </g></svg></span></td>
                        <td class="text-left p-2 text-white">{{urlData.clicks}}</td>
                        <td (click)="delete(urlData.unique_code)"class="text-left p-2 cursor-pointer text-red-500 "><svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ec3232"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M10 11V17" stroke="#ec3232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M14 11V17" stroke="#ec3232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4 7H20" stroke="#ec3232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z" stroke="#ec3232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#ec3232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Presentation de nombre de click par projet -->
         <div class="flex justify-center items-center pt-20">
             <div class="w-[500px] shadow-shad rounded-xl" >

                <div class="h-full z-20 text-white">
                    
                   <div class="h-full">
                    <canvas id="MyChart">{{chart}}</canvas>
                    </div>

                </div>
             </div>
         </div>
     </div>
</div>